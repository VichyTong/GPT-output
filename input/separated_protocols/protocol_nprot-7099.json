[
    "**A) Cell maintenance**",
    "HEK-293T cells",
    "HEK-293T cells were cultured in 25 mL D10 medium on a 150 mm tissue culture dish at 37\u00b0C and 5% atmospheric CO2 and passaged every 2-3 days when confluence reached 70%.",
    "To passage the cells, remove the culture medium and replace with 4 mL 0.25% trypsin-EDTA solution and incubate for 5 minutes.",
    "Dilute and quench the reaction by gentle pipetting with 10 mL fresh media, centrifuge the cells at 500g for 5 minutes, count the cells using the hemocytometer, and reseed 1 million cells in 25 mL D10 media on a new 150 mm tissue culture dish.",
    "Jurkat and K562 cells",
    "Jurkat and K562 cells were both cultured in suspension in C10 medium in vent cap cell culture flasks at 37\u00b0C and 5% atmospheric CO2 and passaged every 2-3 days when confluence reached 70%.",
    "To passage the cells, 1 million cells were added to a new cell culture flask containing fresh C10 media.",
    "**B) SCT library generation**",
    "1.",
    "Starting with a list of desired peptides to express in a SCT library, generate back-translated nucleotide sequences with the IDT Codon Optimization Tool.",
    "Select \"Amino Acids\" as the input sequence type, \"gBlocks Gene Fragments\" as the Product Type, \"Homo sapiens \\(human)\" as the Organism, and enter a tab-delimited list of peptides on the \"Bulk Entry\" page.\r\n  ",
    "2.",
    "Append nucleotide sequences for cloning into a BsmBI digested backbone to the back-translated epitope sequences \"CAGGAGGGCTCGGCA\" + <epitope sequence> + \"GGATGCGGAGGGTCC\"\r\n  3.",
    "Append random nucleotides to the end of the epitope oligo for normalization \r\n  <epitope oligo>",
    "+ \"GGCGGCCGCTCATCTCGTGCGACATCAAGCTATACTCTAATATAGCATTCCGTTCGAGTATAGCAG\"",
    "4.",
    "Submit the first 100 bp of each nucleotide sequence with appended random nucleotides for synthesis=Left\\(<epitope oligo with random nucleotides>, 100)\r\n  5.",
    "Cloning \r\n  a. Backbone first digestion and purification: Prepare 1200 ul of digestion buffer including 120 \u03bcl of 10X NEB 3.1 Buffer, 48 \u03bcl of NEB BsmBI Enzyme, 72 \u03bcl of backbone plasmid \\(pCCLc-MND-2kb stuffer-\u03b22m-A2-IRES-eGFP)  at 1 \u03bcg/\u03bcl, 960 \u03bcl of Nuclease-free water, aliquot 100 ul across 12 PCR strips, and incubate for 6 hours at 55\u00b0C, then heat inactivate enzyme at 80\u00b0C for 20 minutes.  ",
    "Pool all digestion reactions in a 1.5 mL eppendorf tube.",
    "Purify with NucleoSpin Gel and PCR purification kit, using one column per 240 \u03bcl of digested plasmid \\(5 in total), and elute in 20 \u03bcl Elution Buffer \\(supplied) per column.",
    "Pool elution in a 1.5 mL eppendorf tube.",
    "About 50% recovery of digested plasmid expected \\(36 \u03bcg) in 100 \u03bcl is about 300 ng/\u03bcl final concentration. ",
    "b. Backbone redigestion and purification:",
    "Prepare 600 \u03bcl of second digestion buffer \\(60 ul of 10X NEB 3.1 Buffer, 24 \u03bcl of NEB BsmBI Enzyme, 100 \u03bcl of digested backbone from Step 5a, 416 \u03bcl of Nuclease-free water), aliquot 100 \u03bcl across 6 PCR strips, and incubate for 6 hours at 55\u00b0C, then heat inactivate enzyme at 80\u00b0C for 20 minutes.  ",
    "Pour a 0.9% agarose gel \\(mix 1.08 g agarose and 120 mL TAE buffer, heat to above 95\u00b0C until fully dissolved, cool to 60\u00b0C, add 10 \u03bcl gel green, mix and cast in a gel tray with wide combs until solidified).",
    "Pool all second digest reactions in a 1.5 mL eppendorf tube \\(600 \u03bcl).",
    "Add 120 ul 6X Purple Loading Dye to digest, mix, and load mixture on gel at 65 ul per well \\(11 total).",
    "Load 10 \u03bcl 2-log Ladder in a remaining empty well.",
    "Run gel at 120 V for 1 hour, or until dye front has run 75% of the gel.",
    "Briefly image the gel in a gel imager at 365 nm UV wavelength.",
    "Cut out the larger of the two expected bands with a razor, and place each excised band in a 2 mL eppendorf tube.",
    "Follow instructions for NucleoSpin Gel and PCR purification kit, using one column per 4 wells of excised plasmid \\(3 in total), and elute in 20 \u03bcl Elution Buffer \\(supplied) per column.",
    "Pool elutions in a 1.5 mL eppendorf tube.",
    "About 30% recovery of digested plasmid expected \\(11 \u03bcg) in 60 \u03bcl is about 180 ng/\u03bcl final concentration.",
    "Note: The smaller band corresponds to the 2kb stuffer sequence, expected to run at 2,000 bases.",
    "The larger band is the digested plasmid. ",
    "c. Library oligos amplification: Dilute or resuspend single-stranded oligo pool to 10 ng/\u03bcl with Elution Buffer \\(supplied in the PCR purification kit).",
    "Prepare 600 \u03bcl library amplification mix \\(300 \u03bcl of 2X KOD master mix, 24 \u03bcl of 10 \u03bcM Oligo-Amplify-Fwd, 24 \u03bcl of 10 \u03bcM Oligo-Amplify-Rev, 2.4 \u03bcl of 10 ng/\u03bcl single-stranded oligo pool, and 250 \u03bcl of Nuclease-free water), aliquot mix to 24 wells of a PCR plate or strips, and amplify according to the following program:  Initial Denaturation at 95\u00b0C for 2 minutes, 6 cycles of 95\u00b0C for 20 seconds \\(denature), 61\u00b0C for 10 seconds \\(anneal), and 70\u00b0C for 15 seconds \\(extension), then a final extension at 70\u00b0C for 1 minute.  ",
    "Pool all amplification reactions in a 1.5 mL Eppendorf tube.",
    "PCR purify with NucleoSpin Gel and PCR purification kit, using one column, and elute in 17 \u03bcl Elution Buffer \\(supplied).",
    "Expect above 10 ng/\u03bcl of double-stranded oligos.",
    "d. Ligation: Dilute linearized vector to 100 ng/\u03bcl.",
    "Dilute double-stranded oligo pool to 12.5 ng/\u03bcl.",
    "In PCR strips, prepare 10 \u03bcl of ligation mix \\(2 ul of 5X In-Fusion mix, 2 \u03bcl of linearized vector at 100 ng/\u03bcl, 2 \u03bcl of double-stranded oligo pool at 12.5 ng/\u03bcl, 4 \u03bcl of Nuclease-free water) and 10 \u03bcl of no-insert mix \\(2 \u03bcl of linearized vector and 8 \u03bcl of Nuclease-free water).",
    "Incubate at 50\u00b0C for 15 minutes. ",
    "e. Transformation: Dilute both ligation mix and no-insert mix to 24 \u03bcl with Nuclease-free water.",
    "Using 12 tubes \\(50 \u03bcl each) of NEB 5-alpha high efficiency competent cells, transform 2 \u03bcl of ligation mix per tube, according to manufacturer instructions.",
    "Pool cells diluted in SOC after recovery.",
    "Perform four serial dilutions on an aliquot of pooled cells and plate equal volumes of each dilution on LB + Carbenicillin plates to calculate transformation efficiency.",
    "Inoculate 1.5 L of LB + Carbenicillin liquid media with the remainder of the cell mixture, split across 3 maxi prep flasks.",
    "Incubate plates at 37\u00b0C for 12 hours or greater, and liquid media in a shaking incubator 37\u00b0C for 12 hours or greater.",
    "Note: Use cells with a transformation efficiency at 1-3 x 10^9 cfu/\u03bcg or above.",
    " ",
    "f.",
    "Calculate library coverage from the amount of transformed cells pre dilution, total amount of pooled cell mixture, and number of unique oligos in the library:",
    "     Plasmid coverage = number of transformants / number of oligos",
    " g. Maxi prep the 1.5 L of liquid media across three maxi columns.",
    "Pool maxi preps in a 2 mL eppendorf tube. ",
    ".",
    "**C) Transient transfection of plasmids of interest**",
    "6.",
    "For each plasmid to be transfected, seed one 60 mm tissue culture dish with 1.2 million HEK-293T cells one day prior to transfection and incubate overnight at 37\u00b0C and 5% atmospheric CO2.\r\n  ",
    "7. Prepare transfection mixes for each of the plasmids of interest.",
    "For a retroviral vector, add 2 \u03bcg of plasmid, 1.3 \u03bcg of pRD114, and 2 \u03bcg of pHIT60 to 400 \u03bcL OptiMEM and mix by pipetting.",
    "For a lentiviral vector, add 2.8 \u03bcg of plasmid, 2.1 \u03bcg of psPAX1, and 0.7 \u03bcg of pMD2.G to 400 \u03bcL OptiMEM and mix by pipetting.\r\n  ",
    "8.",
    "To the plasmid mixture, add 16.8 \u03bcL TransIT-293 reagent and mix gently by pipetting.",
    "Incubate the solution at room temperature for 15-30 minutes.\r\n  9.",
    "Add the TransIT-293 reagent-plasmid mixture dropwise to different areas of the HEK-293T cells.",
    "Gently rock the culture vessel to evenly distribute the solution.\r\n  ",
    "10.",
    "48 hours after transfection, filter the viral supernatant using a 0.45 \u03bcm syringe filter and 10 mL syringe.\r\n  ",
    "11.",
    "Use viral supernatant for subsequent transduction or aliquot the remaining viral supernatant into 1.5 mL tubes and freeze at -80\u00b0C for future use.\r\n  ",
    "**D) Transduction and generation of Jurkat TCR and K562 library cell lines**",
    "12.",
    "For generation of Jurkat TCR cell lines, add 1 mL of a 0.2 million Jurkat cells/mL",
    "C10 media and 1.5 mL of viral supernatant to a 6-well plate.",
    "Add 2.5 \u03bcL polybrene \\(1000x) and mix by gently rocking the plate.\r\n  ",
    "13.",
    "Spin infect the cells at 30\u00b0C for 1.5 hours at 2500 rpm.\r\n  ",
    "14.",
    "After centrifugation, carefully aspirate away the media and replace with fresh media and culture the cells in the incubator.\r\n  ",
    "15.",
    "For generation of K562 library cell lines, we aimed for 10% transduction efficiency with 0.3 MOI.",
    "Resuspend 15 million K562 cells in a premixed solution of 12 mL C10 media, 12 \u03bcL polybrene, and 3 \u03bcL of viral supernatant.",
    "Evenly distribute the mixture among the wells of a 6-well plate.\r\n  ",
    "NOTE:",
    "A low MOI ensures only 1 copy of each gene is transduced to a single K562 cell.",
    "16.",
    "Spin infect the cells at 30\u00b0C for 1.5 hours at 2500 rpm.\r\n  ",
    "17.",
    "After centrifugation, carefully aspirate away the media and replace with fresh media and culture the cells in the incubator.\r\n  ",
    "18.",
    "Allow at least 2 days for growth and recovery of the cells after transduction.\r\n  ",
    "19.",
    "Assess transduction efficiency using flow cytometry, staining for relevant transduction markers.\r\n  20.",
    "Sort the transduced cells by FACS.\r\n  ",
    "21.",
    "Culture the cells as described previously.",
    "Once the cells have grown, proceed to coculture step or aliquot extra cells in Bambanker freeze media and freeze at -80\u00b0C overnight.",
    "Transfer the aliquots to liquid nitrogen for long term storage.\r\n  ",
    "**E) Coculture**",
    "22.",
    "Prepare the Jurkat TCR and K562 library cells for coculture by washing the cells twice at 100g for 5 minutes, replacing with fresh C10 media each time.\r\n  ",
    "23.",
    "Resuspend the Jurkat TCR cells at 5.2 million/mL and the K562 library cells at 2.6 million/mL.\r\n  24.",
    "Add 500 \u03bcL of each of the Jurkat TCR and K562 library cells to a sterile 5 mL round-bottom polystyrene tube, mixing the cells gently by pipetting.\r\n  ",
    "25.",
    "Coculture the cells for 45 minutes at 37\u00b0C and 5% CO2.",
    "Proceed to staining.\r\n  ",
    "**F) Staining**",
    "26.",
    "Prepare the staining solution.",
    "For 5 mL of stain solution, add 12.5 \u03bcL \\(1:400) of LIVE/",
    "DEAD Fixable Violet Dead Cell Stain and 25 \u03bcL \\(1:200) of anti-muTCR-PECy7 to 5 mL of FACS buffer.\r\n  ",
    "NOTE:",
    "It may be necessary to prepare proper single stain controls in order to adequately compensate the FACS plots during sorting.",
    "27.",
    "After 45 minutes of incubation, spin down the cells for 5 minutes at 500g. Resuspend the samples in 1 mL of 2 mM EDTA in PBS the spin down again.\r\n  28.",
    "Resuspend the cell samples in 650 \u03bcL of staining solution and incubate for 20 minutes on ice and in the dark.\r\n  ",
    "29.",
    "Add 1 mL FACS buffer to wash, then spin down for 5 min. Repeat the wash step.\r\n  ",
    "30.",
    "Resuspend the samples in 500 \u03bcL of sterile Trogocytosis Resuspension Solution, made as needed as described previously.",
    "Keep the cells on ice until sorting.",
    "Proceed to sorting.\r\n  ",
    "**G) Sorting**",
    "31.",
    "Immediately prior to sample acquisition, filter the sample using a 5 mL Falcon test tube with cell strainer snap cap.\r\n  ",
    "32.",
    "Sort the Crimson- eGFP+TCR+ cells to a sterile 5mL round-bottom polystyrene tube containing at least 1 mL of C10 medium.\r\n  ",
    "34.",
    "Culture the cells until enough have grown. \r\n  ",
    "35.",
    "After growing up the cells, proceed to preparation for deep sequencing or repeat steps 17-28 for additional rounds of selection.\r\n  ",
    "**H) Preparation for deep sequencing**",
    "36.",
    "Extract the genomic DNA of about 1 million of the sorted cells using the PureLink Genomic DNA Mini Kit.",
    "Dilute the genomic DNA products to 50 ng/\u03bcL.\r\n  37.",
    "The genomic DNA of the sorted cells was used as the template for the following PCR setup:\r\n  NOTE:",
    "In order to obtain an adequate amount of PCR product, each reaction had 5 replicates.",
    "Each sample was also run alongside a sample containing no template for use as a control later.",
    "2X Kapa HIFI MM 12.5\u03bcL",
    "10 \u03bcM TruSeq-Univ-SCTfixed-F \\(Truseq single F) 0.75 \u03bcL",
    "1 \u03bcM TruSeq-Read2-SCTfixed-R \\(Truseq R) 0.75 \u03bcL",
    "10 \u03bcM Truseq-Adapter-Index-1 \\(Single index X) 0.75 \u03bcL",
    "Template DNA \\(100ng, 50ng/\u03bcL stock) 2 \u03bcL",
    "Nuclease-free water 8.25 \u03bcL",
    "  25 \u03bcL total",
    "38.",
    "Run the samples using the following program for barcoded PCR amplification:\r\n  Initial Denaturation 95\u00b0C 2 min",
    "30 Cycles: Denature 95\u00b0C 20 sec",
    "  Anneal 66\u00b0C 10 sec",
    "  Extension 70\u00b0C 15 sec",
    "Final Extension 70\u00b0C 2 min",
    "Hold 4\u00b0C  ",
    "39.",
    "After PCR amplification, pool each sample and purify using the DNA Clean & Concentrator-5 Kit.",
    "Elute in 20 \u03bcL of water.\r\n  ",
    "40.",
    "Run 4 \u03bcL of the PCR purifications on an agarose gel to verify amplification.\r\n  ",
    "41.",
    "Quantify the amplified barcoded DNA by Bioanalyzer and sequence by the Illumina Genome Analyzer IIx System.\r\n  ",
    "**I) Data analysis**",
    "42.",
    "Convert and de-multiplex basecalls with Illumina bcl2fastq2 software\r\n              a.",
    "Create sample sheet with Illumina Experiment Manager to define indexes",
    "            b.",
    "Configure bclToFastq: ",
    "                configureBclToFastq.pl --input-dir <path_to_BaseCalls_dir>",
    "--output-dir  ",
    "                <",
    "path_to_output_dir> --sample-sheet <path_to>/SampleSheet.csv ",
    "                Note: This script will generate a makefile",
    "c. Run bclToFastq: ",
    "                make",
    "43.",
    "Generate bwa index\r\n  a. Replace the 2kb BsmBI stuffer sequence in pCCLc-MND-2kb stuffer- \u03b22m-A2- ",
    "IRES-eGFP with a string of random nucleotides the length of the average ",
    "genetically encoded epitope \\(36 random bp for 12 AA)",
    "b.",
    "Build the bwa index:",
    "                bwa index -p",
    "ref backbone.fasta",
    "44.",
    "Align each sample to plasmid backbone with bwa\r\n     bwa mem -B 1 ref input.fastq > output.sam",
    "   Note: the flag \"-B 1\" reduces the mismatch penalty to account for the variable   ",
    "   epitope sequences ",
    "45.",
    "Trim alignment to only epitope region\r\n     ",
    "For each read:",
    "            target_sequence_start = epitope_start_position - read_start",
    "            target_sequence_stop = epitope_stop_position - read_start + 1",
    "            target_sequence = read_sequence\\[target_sequence_start:target_sequence_stop]",
    "46.",
    "Translate to peptide\r\n              For each codon:",
    "            ",
    "amino_acid_sequence += codon_table\\[codon]",
    "47.",
    "Count library peptide hits\r\n     For each amino_acid_sequence:",
    "            if amino_acid_sequence in library_sequences_table:    ",
    "            library_sequences_table\\[amino_acid_sequence]",
    "+= 1"
]