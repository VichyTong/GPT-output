[
    "<p>Any version of ANSYS with the Fluent package included will suffice to carry out the following procedure.",
    "However, it is important to note that the following steps are specific to ANSYS 2020",
    "R1.</p><p>",
    "In this research of stenosis microfluidic channels, the contractions were extensively investigated with particular focus on the shear rates and shear rate gradients present throughout the channel.",
    "This protocol will focus on replicating Figure 2A-D from the Zhao and Vatankhah et al paper<sup>10</sup> (Fig.",
    "1).</p><p>&nbsp;</p><p><strong>",
    "Establishing Geometry</strong></p><p>To start with, open ANSYS workbench and drag the Fluent flow (FLUENT) module into the project window.",
    "The geometry setup would appear on the first row.",
    "Right click the Geometry tab and select Design Modeler.",
    "It is recommended to select \u201cmicrometer\u201d as the default unit from unit tab before drawing the structure.",
    "Note the units cannot be altered after drawing commences.",
    "Pick the desired work plane and create a new sketch on it.",
    "The initial drawing should be completed in two dimensions (Fig. 2).",
    "The different channels utilized in the Zhao and Vatankhah et al paper<sup>10</sup> can be modelled accordingly.",
    "Note that the fillet radius R5 is 5 \u00b5m in all cases.",
    "After completing the two-dimensional drawing, click Extrude to generate the three-dimensional concentric or eccentric stenosis model microfluidic channel.</p><p><br></p><p><strong>Applying Mesh</strong></p><p>",
    "In this step, the size and method of meshing are altered using the left-hand panel.",
    "To obtain the most accurate results, it is suggested to generate a relatively fine mesh that can still be constructed in a reasonable amount of time, this will vary based on the users\u2019 PC specifications.",
    "An unnecessarily dense mesh will waste computational resources and prolong the calculation time.",
    "To this end, a delicate balance should be struck between the fineness and computational power usage.",
    "Notably, the region of interest shall be further refined, together with the complex areas where the flows would not simply be straight.",
    "In bulk regions with consistent flow, the coarse mesh can be used to save computational power.</p><p>For instance, the stenosis model appearing in Zhao and Vatankhah et al paper<sup>10</sup> is generated by employing a general mesh size of 1.5 microns initially for the entire geometry using the hexahedral method.",
    "This general grid sizing is then refined and reduced in regions of increased flow complexity as demonstrated by the finer grid size on the curved faces of the model (Fig. 3).",
    "This finer sizing can be achieved by adding extra mesh size modules on faces or edges.",
    "For the stenosis channel, a \u201cface sizing\u201d module is applied on the stenosis area to reduce the mesh size to 0.4 microns.",
    "Using a 32 threads computer, this simulation had a computation time of 180 minutes.",
    "Once the mesh has been established, update the generated model to the ANSYS workbench before exiting the meshing software.</p><p>&nbsp;</p><p><strong>Adjusting Setup and Running Solution</strong></p><p>Prior to entering the next step, it is important to ensure that double precision is being employed and that the correct number of solver processes for the CPU are being used.",
    "These can be modified by right clicking on setup and choosing \u201cedit\u201d.",
    "</p><p>Double click the \u201csetting\u201d tab in ANSYS workbench to open Fluent.",
    "Set the flow to be laminar from the left \u201cModels\u201d panel.",
    "Note in most microfluidic channels, the flow can safely be assumed to be laminar because of the low Reynolds number of the flow.",
    "Set the correct fluid medium by entering its density and viscosity.",
    "Note that common fluid, such as water, can be chosen from the ANSYS database directly.",
    "Table 2 of the main paper presents the density and viscosity values appropriate for each fluid.",
    "Having created the correct material the fluid in \u201cCell zone conditions\u201d is set to be the material of the model (blood or water).</p><p>Boundary conditions should be defined on the previously named selections.",
    "For instance, the main paper defined mass flow rate at the outlet, which should be calculated using the equations in the main paper and entered into ANSYS outlet boundary condition.",
    "A zero-pressure inlet should be selected in this scenario.",
    "Conversely, when suing a \u201cvelocity inlet\u201d or \u201cmass flow inlet\u201d, the outlet should be set as a zero-pressure.",
    "As such, if error messages appear when attempting to run the simulation, it is advisable to first check the boundary condition settings.</p><p>&nbsp;</p><p>",
    "The residuals under the \u201cmonitors\u201d tab should all be set to a convergence criterion of 1e-6 (Fig. 4A) before initializing the solution using the Hybrid Initialization method (Fig. 4B).",
    "In the \u201ccalculation\u201d tab, the iteration steps should be set as a large number e.g., 5,000, to ensure that the simulation has sufficient opportunity to converge (Fig. 4C).",
    "Select the parameters of interest from \u201cdata file quantities\u201d under the \u201ccalculation\u201d tab.",
    "For the purposes of the Zhao and Vatankhah et al paper<sup>10</sup>, the strain rate was added (Fig.",
    "4D).",
    "The simulation will automatically stop running when the solution converges, and all residuals are below the value of 1e-6.",
    "Another calculation is optional if the convergence criteria are not achieved after the first set of iterations are complete.",
    "The user should know whether their solution is likely to successfully converge after the first few hundred iterations as the graph of the residuals should display a decreasing trend (Fig. 5).",
    "In most cases, a smooth convergence of residuals indicates the simulation settings are properly implemented.</p><p><br></p><p><strong>",
    "Attaining Results</strong></p><p>Double click \u201cResults\u201d in ANSYS workbench to open CFD-Post.",
    "The top menu provides options to add contour plots, streamlines &amp; volume renderings.",
    "The detailed settings for generating Figure 1 are described below.</p><p>The WSS contour on the walls can be plotted by clicking the \u201cInsert\u201d tab.",
    "In the pop up window, choose \u201cwall shear stress\u201d as the variable and \u201cwall\u201d as the location (Fig. 1A).",
    "To find a streamline passing through a certain point, define the point first by clicking on \u201cLocation\u201d in the top menu bar and selecting \u201cpoints\u201d.",
    "Enter the location values <em>x </em>= 0, <em>y </em>= 80, <em>z </em>= 30.",
    "Then go to \u201cInsert\u201d &gt; \u201cstreamline\u201d and select the previous defined point as the starting location.",
    "Select the direction of the streamlines as \u201cForward and Backward\u201d.",
    "In the color tab, select strain rate as the variable to be plotted by the color of the streamline (Fig. 1B).</p><p>To export data, click on the top menu and go to \u201cFile\u201d &gt; \u201cExport\u201d.",
    "Choose the previous streamline as the location, strain rate as the first variable and WSS as the second variable.",
    "Save the exported data to the desired location and plot them using other software (Fig 1C and D).",
    "It is worth noting that the strain rate gradient needs to be created by the user.",
    "First create an expression which calculates the dot product of the velocity and strain rate gradient vectors.",
    "For instance, \u201cdot = (Strain Rate.",
    "Gradient X*Velocity u+Strain Rate.",
    "Gradient Y*Velocity v+Strain Rate.",
    "Gradient Z*Velocity w)\u201d.",
    "Then divide the dot product by the velocity magnitude, such as \u201cdot/Velocity\u201d.",
    "Create a variable which has the value of the expression just created above and export data as aforementioned (Fig. 1D).&nbsp;</p>"
]