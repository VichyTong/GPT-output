[
    "<p>1.",
    "Install Tensor",
    "Flow within R:</p><p>install.packages(\"tensorflow\")</p><p>tensorflow::install_tensorflow()</p><p><br></p><p>2.",
    "Install cellassign by running</p><p>devtools::install_github(\u201c<a href=\"https://github.com/Irrationone/cellassign\" target=\"_blank\">Irrationone/cellassign</a>\u201d)</p><p>and ",
    "Load by calling library(cellassign)</p><p><br></p><p>3.",
    "Prepare single-cell expression data in the form of a SingleCellExperiment object</p><p><a",
    "href=\"https://bioconductor.org/packages/release/bioc/html/SingleCellExperiment.html\" target=\"_blank\">https://bioconductor.org/packages/release/bioc/html/SingleCellExperiment.html</a></p><p>We will assume this object is \u201csce\u201d.",
    "In rowData(sce) should be fields \u201cID\u201d, corresponding to ensembl gene ID, and \u201cSymbol\u201d, corresponding to HGNC symbol.</p><p><br></p><p>4.",
    "Compute size factors using scran</p><p>sce &lt;- computeSumFactors(sce)</p><p><br></p><p>5.",
    "Specify marker gene data</p><p>",
    "This is in the form of a list, where the names of the list are the cell types and the contents are marker genes for the cell types.",
    "An example can be found in the CellAssign package by calling data(example_TME_markers).",
    "As a simple example, we can create one for T cells and epithelial cells:</p><p>marker_list &lt;- &nbsp;list(t_cells = c(\u201cPTPRC\u201d, \u201cCD2\u201d), epithelial = \u201cEPCAM\u201d) </p><p>Note that there is no requirement marker genes should be mutually exclusive or not expressed in other cell types.</p><p><br></p><p>6.",
    "Turn marker list into binary matrix using marker_list_to_mat</p><p>marker_mat &lt;- marker_list_to_mat(marker_list)</p><p>Optional: an \u201cunknown\u201d cell type may be included by passing include_other = TRUE to marker_list_to_mat</p><p><br></p><p>7.",
    "Match IDs to rows of the SingleCellExperiment</p><p>mm &lt;- match(rownames(marker_mat), rowData(sce)$Symbol) &nbsp;</p><p><br></p><p>8.",
    "Subset SingleCellExperiment to markers only</p><p>sce_marker &lt;- sce[mm,]</p><p><br></p><p>9.",
    "Run CellAssign</p><p>",
    "Fit &lt;- cellassign(exprs_obj = sce_marker, </p><p> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;marker_gene_info = marker_mat, </p><p> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s = sizeFactors(sce_marker))</p><p><br></p><p>Note that covariates can be included at this point by passing an argument named \u201cx\u201d to cellassign.",
    "For more information ",
    "See the vignette below.</p><p><br></p><p>10.",
    "View assigned cell types</p><p>print(fit$cell_type)</p><p><br></p><p>11.",
    "View maximum likelihood parameter estimates</p><p>print(fit$mle_params)</p><p>",
    "This includes the cell assignment probabilities in fit$mle_params$gamma</p><p><br></p><p>For more detailed example ",
    "See the package vignette at <a href=\"https://irrationone.github.io/cellassign/introduction-to-cellassign.html\" target=\"_blank\">https://irrationone.github.io/cellassign/introduction-to-cellassign.html</a></p>"
]