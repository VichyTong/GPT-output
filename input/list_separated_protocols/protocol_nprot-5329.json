"\na. Generate stable homodimers\r\n\n\nIt is essential to ensure a dimeric protein will not dissociate under the experimental conditions \\(c < 200 pM). This can be achieved by e.g. artificially insertion of a zipper motif \\(by mutagenesis) close to the native dimerization site. The zipper motif used in our study is made of the amino acid sequence PG EQKAEEWKRRYEKEKEKN ARLKGKVEKLEIELARWR PG and derived from the kinesin heavy chain of D. melanogaster, dmKHC \\(1). It did not show strong effects on the proteins conformational dynamics and activity in our hands.\r\n\n\n\r\n\n\n b. Create Mutant Library\r\n\n\n Select possible labeling positions in each domain based on conservation among homologues \\(low conservation preferred). Based on known secondary structure, chose positions within small loops that are evenly distributed among the domains and preferably not located at domain interfaces.\r\n\n\n Create point mutants by site-directed mutagenesis following the manufacturer’s protocol, purify plasmid DNA of mutants and verify mutants by sequencing.\r\n\n\n Transform plasmid with verified single point mutant gene into bacteria for expression. Express protein mutants and purify them by chromatography to > 90 % purity, as checked by SDS-PAGE. Final protein concentration should be ~ 50 uM.\r\n\n\n\r\n\n\n c. Sample preparation: Dye labelling\r\n\n\n Label cysteine mutants with maleimide dyes. The Reduce the cysteine by addition of 10 mM \\(TCEP) and incubation at room temperature for 30 minutes. Remove TCEP and change buffer to PBS pH 6.7 with a desalting column. The concentration of the protein during labeling should not drop below 30 uM. In case, the concentration is lower, concentrate the protein with vivaspin500 centricons. Add a two-fold excess of maleimide dye to the protein and incubate in the dark for one hour at room temperature. Remove dye excess and change buffer to measurement buffer with a desalting column.\r\n\n\nIn case of multimeric protein complexes, label one monomer with one dye at a certain position, and exchange one donor with one acceptor labeled mutant to obtain a certain amount of FRET species that have exactly one acceptor dye at one monomer and one donor dye at another monomer. In case of Hsp90, the exchange was done by incubating the mixed sample for about 20 minutes at 47°C in order to accelerate the opening of the coiled coil zipper. Then, remove possible aggregates by extensive centrifugation at 14000 g for one hour. Correlate measured FRET efficiencies with stoichiometries in a scatter plot, to sort out homo dimers. \r\n\n\nIn contrast, intra-monomer mutants \\(two labels within one monomer) are exchanged with a 200-fold excess of wild type monomers to exclude inter-monomer FRET. In this case, equimolar dye concentrations are added at the same time. In our study, FRET between these positions did not significantly depend on which dye reacted to which site, indicated by dye swapping in the heterodimer.\r\n\n\n\r\n\n\n d. Sample preparation: Protein activity\r\n\n\nIf enzymatic activity of the protein is known, test the purified and labeled mutants for their activity compared to the wild-type protein. Any labeled mutant that loses its activity completely has to be excluded immediately from further experiments. In case a heterodimeric protein is studied and FRET distributions of mixed homodimers will be measured, check their activity as well \\(see Online Methods and Supplementary Figure 5 in the associated publication).\r\n\n\n\r\n\n\ne. Production of a measurement chamber\r\n\n\n First step, cleaning of glass slides \\(170µm, Carl Roth):\r\n\n\n Put slides in 2% Hellmanex in an ultrasonic bath for 10 min.\r\n\n\n Put slides in ddH2O in ultrasonic bath two times for 10 min.\r\n\n\n Clean slides for 2 h at 55°C in piranha solution.\r\n\n\n Clean slides with ddH2O.\r\n\n\n Put slides in 2% Hellmanex in ultrasonic bath two times for 10 min.\r\n\n\n Clean slides with ddH2O.\r\n\n\n Put slides in ddH2O in ultrasonic bath two times for 10 min.\r\n\n\n Clean slides for 2 h at 55°C in RCA solution.\r\n\n\n Clean slides with ddH2O.\r\n\n\n Put slides in 2% Hellmanex in ultrasonic bath.\r\n\n\n Put slides in ddH2O in ultrasonic bath for 10 min.\r\n\n\n Storage in ddH2O.\r\n\n\n Second step, functionalization of cleaned glass slides:\r\n\n\n Solve 80 mg PEG in 600 µL 100 mM NaHCO3 at pH 8.5; shake it and keep it cool.\r\n\n\n Dry slides with compressed pure nitrogen and put them in pure acetone.\r\n\n\n Incubate slides 5-10 min in 200 ml acetone with 1 ml Vectabond.\r\n\n\n Swivel slides in ddH2O and place each one on a petri dish.\r\n\n\n Bring 70 µL of PEG solution on each slide and cover it with an untreated slide.\r\n\n\n Keep everything dark, cold \\(4°C) and humid with water-soaked wipes.\r\n\n\n After 3 hours: Swivel slides in ddH2O to wash off unbound PEG.\r\n\n\n Dry slides with nitrogen; storage them dark, cold, ideally in a vacuum chamber.\r\n\n\n Third step, chamber construction:\r\n\n\n Cut 5mm-holes into a Nescofilm with a laser cutter \\(3 rows, 8 columns).\r\n\n\n Drill holes into a 1 mm-thick teflon block.\r\n\n\n Bring the Nescofilm between a functionalized slide and the teflon block.\r\n\n\n Burden the chamber on a heat plate \\(70°C) for 20 minutes with the slide side down.\r\n\n\n Finally, use each hole for 1-2 measurement days.\r\n\n\n Reuse the Teflon block after cleaning with 2% Hellmanex and ddH2O.\r\n\n\n\r\n\n\n f. Data Acquisition\r\n\n\n Determine the normalized fluorescence spectrum F ̅_D \\(λ)  for each donor labeled mutant und absorbance spectrum for each acceptor labeled mutant, all in measurement buffer. \r\n\n\n Record micro- and macro-time data with the described confocal setup to obtain FRET efficiencies, stoichiometries and time-resolved anisotropies. For each FRET pair and condition \\(nucleotide, co-factor, salt concentration…) record at least 1000 single molecule events \\(at least 30 minutes per measurement at a sample concentration of about 50 pM). Measure each pair under the conditions that shift the equilibrium among the state populations. Start with measuring 10-16 FRET pairs between two large domains \\(each with 4 labeling positions) followed by the following steps. Then, measure further FRET pairs and add further labeling positions if necessary.\r\n\n\n\r\n\n\n g. Data Evaluation: Preliminary distance determination\r\n\n\n Calculate the quantum yield for each donor position from the measured fluorescence lifetime \\(micro-time data) in the donor-only population τ_D0   and the given fluorescence lifetime 〖τ'〗_D0   and quantum yield 〖Q'〗_D  specified by the manufacturer:\r\n\n\nQ_D= 〖Q'〗_D∙τ_D0/〖τ'〗_D0\r\n\n\n Calculate the overlap integral J\\(λ) for each FRET pair:\r\n\n\nJ_DA \\(λ)=∫▒〖F ̅_D \\(λ)  ε_A \\(λ)  λ^4 dλ〗\r\n\n\nAssume the extinction coefficient in the absorbance spectra maximum to remain constant and calculate the extinction spectrum ε_A \\(λ).\r\n\n\n Calculate the Förster radius R_0 for each FRET pair from the determined overlap spectra J and donor quantum yield QD:\r\n\n\n〖R_0〗<sup>6=\\(9000\\(ln10))/\\(128π</sup>5 )∙\\(κ<sup>2 Q_D)/\\(N_A n</sup>4 )∙∫_0<sup>∞▒〖F_D \\(λ)ε_A \\(〗 λ)λ</sup>4 dλ.\r\n\n\nAssume〖 κ〗^2=2/3 \\(see section ‘Verification’ for checking if this assumption holds).\r\n\n\n Correct FRET efficiencies for leakage, direct excitation, β- and γ-factors iteratively by checking for self-consistency within the network \\(see Supplementary Note 2 and 3 in the associated publication).\r\n\n\n Calculate preliminary distances from corrected efficiencies with a probability distribution analysis \\(see Supplementary Note 5 in the associated publication).\r\n\n\n\r\n\n\n h. Data Evaluation: State Assignment\r\n\n\nCompare the data to existing structural data: In case a structure of a functional state exists, screen it with the FPS tool and compare the experimental distances to the model for verification and state assignment. With no existing global structure, states will later be assigned during the global domain arrangement.\r\n\n\n\r\n\n\n i. Data Evaluation: Verification\r\n\n\n Check the fraction of dark states for donor and acceptor dye with fluorescence correlation spectroscopy. Use the equation of \\(2) to fit the autocorrelation of the donor fluorescence intensity after donor excitation and to fit the autocorrelation of the acceptor fluorescence intensity after acceptor excitation \\(macro-time data). Choose moderate excitation powers \\(about one third of the power at fluorescence intensity saturation) to guarantee low dark state fractions. For the described setup, an average laser power of 50 µW was chosen and resulted in dark state fractions of less than 3% for Atto550 and Atto647N.\r\n\n\n Calculate the time-resolved dye anisotropies from parallel and perpendicularly polarized fluorescence intensities N|| and N⊥ \\(micro-time data) after excitation with the linearly polarized donor laser or acceptor laser, respectively \\(see Figure 2a):\r\n\n\nr=\\(N_\\(||)-GN_⊥)/\\(N_\\(||)+2GN_⊥ )\r\n\n\nThe G factor corrects for relative detection efficiencies. For objectives with a high numerical aperture depolarization factors have to be considered \\(l1=0.0308 and l2=0.0368 for NA=1.2). Determine the combined anisotropy, if possible for each state separately:\r\n\n\nr_C=√\\(r_\\(A,∞) ) √\\(r_\\(D,∞) )\r\n\n\n Determine a threshold for the combined anisotropy with distance network and apply it to the data set \\(see Figure 2b). A reasonable threshold value found in our study using Atto550 and Atto647N as FRET pair is r_C=0.22. For further information see Supplementary Note 4 in the associated publication.\r\n\n\n Test for state-dependent local conformational changes. First, compare the position-specific anisotropies between the different states. Therefore, correlate the time-resolved anisotropies with the respective accessible volumes \\(calculated with the FPS software \\(2)) of acceptor or donor dye for each labeling position and for each state and check for changes between the states. Such changes hint local rearrangements \\(see Supplementary Note 3 in the associated publication). Second, use intra-domain and intra-monomer FRET pairs to test for rearrangements within.\r\n\n\n\r\n\n\n j. Data Evaluation: Domain Arrangement\r\n\n\n For each state, arrange the domains with the assigned distances. Use the FPS software \\(2) for a fist average domain arrangement. Then, use this software to calculate mean dye positions from accessible volumes. Then, run the software in the associated publication.\r\n\n\n Analyze the fluorescence intensity traces \\(macro-time data) with different time bins and generate one efficiency histograms for each time interval. Then, run the software tool ‘MDAgenDistances’  to generate distances, their standard deviations of a Gaussian distribution and their uncertainties.\r\n\n\n Run the software tool ‘MDAgenStructures’ to generate average structures with different chi^2 values.\r\n\n\n Generate structures from distance subsets with the software tool ‘MDAgenSubsets’.\r\n\n\n In case of ambiguous solutions, substitute domain structures with other crystal structures if known. In case the solution remains ambiguous, go back to step \\(a) or \\(d) and measure further FRET pairs.\r\n\n\n Generate an ensemble of structures with the software tool ‘MDAgenEnsembles’.\r\n\n\n\r\n\n\n k. Data Evaluation: Molecular refinement\r\n\n\n Refine the ensemble structures from the domain arrangement with MD simulations. Screen the results with the FPS software \\(3). In case deviations occur, repeat the global distance distribution analysis and subsequent domain arrangement.\r\n\n\n Test the stability and fast local dynamics of the optimal solution with unrestrained MD simulations in explicit solvent."