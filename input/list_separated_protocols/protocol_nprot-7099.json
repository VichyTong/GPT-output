[
    {
        "title": "**A) Cell maintenance**",
        "body": "HEK-293T cells\r\n\n\nHEK-293T cells were cultured in 25 mL D10 medium on a 150 mm tissue culture dish at 37°C and 5% atmospheric CO2 and passaged every 2-3 days when confluence reached 70%. To passage the cells, remove the culture medium and replace with 4 mL 0.25% trypsin-EDTA solution and incubate for 5 minutes. Dilute and quench the reaction by gentle pipetting with 10 mL fresh media, centrifuge the cells at 500g for 5 minutes, count the cells using the hemocytometer, and reseed 1 million cells in 25 mL D10 media on a new 150 mm tissue culture dish.\r\n\n\nJurkat and K562 cells\r\n\n\nJurkat and K562 cells were both cultured in suspension in C10 medium in vent cap cell culture flasks at 37°C and 5% atmospheric CO2 and passaged every 2-3 days when confluence reached 70%. To passage the cells, 1 million cells were added to a new cell culture flask containing fresh C10 media."
    },
    {
        "title": "**B) SCT library generation**",
        "body": [
            {
                "title": "1.",
                "body": "Starting with a list of desired peptides to express in a SCT library, generate back-translated nucleotide sequences with the IDT Codon Optimization Tool. Select \"Amino Acids\" as the input sequence type, \"gBlocks Gene Fragments\" as the Product Type, \"Homo sapiens \\(human)\" as the Organism, and enter a tab-delimited list of peptides on the \"Bulk Entry\" page."
            },
            {
                "title": "2.",
                "body": "Append nucleotide sequences for cloning into a BsmBI digested backbone to the back-translated epitope sequences \"CAGGAGGGCTCGGCA\" + <epitope sequence> + \"GGATGCGGAGGGTCC\""
            },
            {
                "title": "3.",
                "body": "Append random nucleotides to the end of the epitope oligo for normalization \r\n  <epitope oligo> + \"GGCGGCCGCTCATCTCGTGCGACATCAAGCTATACTCTAATATAGCATTCCGTTCGAGTATAGCAG\""
            },
            {
                "title": "4.",
                "body": "Submit the first 100 bp of each nucleotide sequence with appended random nucleotides for synthesis=Left\\(<epitope oligo with random nucleotides>, 100)"
            },
            {
                "title": "5.",
                "body": "Cloning \r\n  a. Backbone first digestion and purification: Prepare 1200 ul of digestion buffer including 120 μl of 10X NEB 3.1 Buffer, 48 μl of NEB BsmBI Enzyme, 72 μl of backbone plasmid \\(pCCLc-MND-2kb stuffer-β2m-A2-IRES-eGFP)  at 1 μg/μl, 960 μl of Nuclease-free water, aliquot 100 ul across 12 PCR strips, and incubate for 6 hours at 55°C, then heat inactivate enzyme at 80°C for 20 minutes.  Pool all digestion reactions in a 1.5 mL eppendorf tube. Purify with NucleoSpin Gel and PCR purification kit, using one column per 240 μl of digested plasmid \\(5 in total), and elute in 20 μl Elution Buffer \\(supplied) per column. Pool elution in a 1.5 mL eppendorf tube. About 50% recovery of digested plasmid expected \\(36 μg) in 100 μl is about 300 ng/μl final concentration. \r\n\n\nb. Backbone redigestion and purification: Prepare 600 μl of second digestion buffer \\(60 ul of 10X NEB 3.1 Buffer, 24 μl of NEB BsmBI Enzyme, 100 μl of digested backbone from Step 5a, 416 μl of Nuclease-free water), aliquot 100 μl across 6 PCR strips, and incubate for 6 hours at 55°C, then heat inactivate enzyme at 80°C for 20 minutes.  Pour a 0.9% agarose gel \\(mix 1.08 g agarose and 120 mL TAE buffer, heat to above 95°C until fully dissolved, cool to 60°C, add 10 μl gel green, mix and cast in a gel tray with wide combs until solidified). Pool all second digest reactions in a 1.5 mL eppendorf tube \\(600 μl). Add 120 ul 6X Purple Loading Dye to digest, mix, and load mixture on gel at 65 ul per well \\(11 total). Load 10 μl 2-log Ladder in a remaining empty well. Run gel at 120 V for 1 hour, or until dye front has run 75% of the gel. Briefly image the gel in a gel imager at 365 nm UV wavelength. Cut out the larger of the two expected bands with a razor, and place each excised band in a 2 mL eppendorf tube. Follow instructions for NucleoSpin Gel and PCR purification kit, using one column per 4 wells of excised plasmid \\(3 in total), and elute in 20 μl Elution Buffer \\(supplied) per column. Pool elutions in a 1.5 mL eppendorf tube. About 30% recovery of digested plasmid expected \\(11 μg) in 60 μl is about 180 ng/μl final concentration. Note: The smaller band corresponds to the 2kb stuffer sequence, expected to run at 2,000 bases. The larger band is the digested plasmid. \r\n\n\nc. Library oligos amplification: Dilute or resuspend single-stranded oligo pool to 10 ng/μl with Elution Buffer \\(supplied in the PCR purification kit). Prepare 600 μl library amplification mix \\(300 μl of 2X KOD master mix, 24 μl of 10 μM Oligo-Amplify-Fwd, 24 μl of 10 μM Oligo-Amplify-Rev, 2.4 μl of 10 ng/μl single-stranded oligo pool, and 250 μl of Nuclease-free water), aliquot mix to 24 wells of a PCR plate or strips, and amplify according to the following program:  Initial Denaturation at 95°C for 2 minutes, 6 cycles of 95°C for 20 seconds \\(denature), 61°C for 10 seconds \\(anneal), and 70°C for 15 seconds \\(extension), then a final extension at 70°C for 1 minute.  Pool all amplification reactions in a 1.5 mL Eppendorf tube. PCR purify with NucleoSpin Gel and PCR purification kit, using one column, and elute in 17 μl Elution Buffer \\(supplied). Expect above 10 ng/μl of double-stranded oligos.\r\n\n\nd. Ligation: Dilute linearized vector to 100 ng/μl. Dilute double-stranded oligo pool to 12.5 ng/μl. In PCR strips, prepare 10 μl of ligation mix \\(2 ul of 5X In-Fusion mix, 2 μl of linearized vector at 100 ng/μl, 2 μl of double-stranded oligo pool at 12.5 ng/μl, 4 μl of Nuclease-free water) and 10 μl of no-insert mix \\(2 μl of linearized vector and 8 μl of Nuclease-free water). Incubate at 50°C for 15 minutes. \r\n\n\ne. Transformation: Dilute both ligation mix and no-insert mix to 24 μl with Nuclease-free water. Using 12 tubes \\(50 μl each) of NEB 5-alpha high efficiency competent cells, transform 2 μl of ligation mix per tube, according to manufacturer instructions. Pool cells diluted in SOC after recovery. Perform four serial dilutions on an aliquot of pooled cells and plate equal volumes of each dilution on LB + Carbenicillin plates to calculate transformation efficiency. Inoculate 1.5 L of LB + Carbenicillin liquid media with the remainder of the cell mixture, split across 3 maxi prep flasks. Incubate plates at 37°C for 12 hours or greater, and liquid media in a shaking incubator 37°C for 12 hours or greater. Note: Use cells with a transformation efficiency at 1-3 x 10^9 cfu/μg or above.\r\n\n\n f. Calculate library coverage from the amount of transformed cells pre dilution, total amount of pooled cell mixture, and number of unique oligos in the library:\r\n\n\n     Plasmid coverage = number of transformants / number of oligos\r\n\n\n g. Maxi prep the 1.5 L of liquid media across three maxi columns. Pool maxi preps in a 2 mL eppendorf tube. \r\n\n\n."
            }
        ]
    },
    {
        "title": "**C) Transient transfection of plasmids of interest**",
        "body": [
            {
                "title": "6.",
                "body": "For each plasmid to be transfected, seed one 60 mm tissue culture dish with 1.2 million HEK-293T cells one day prior to transfection and incubate overnight at 37°C and 5% atmospheric CO2."
            },
            {
                "title": "7.",
                "body": "Prepare transfection mixes for each of the plasmids of interest. For a retroviral vector, add 2 μg of plasmid, 1.3 μg of pRD114, and 2 μg of pHIT60 to 400 μL OptiMEM and mix by pipetting. For a lentiviral vector, add 2.8 μg of plasmid, 2.1 μg of psPAX1, and 0.7 μg of pMD2.G to 400 μL OptiMEM and mix by pipetting."
            },
            {
                "title": "8.",
                "body": "To the plasmid mixture, add 16.8 μL TransIT-293 reagent and mix gently by pipetting. Incubate the solution at room temperature for 15-30 minutes."
            },
            {
                "title": "9.",
                "body": "Add the TransIT-293 reagent-plasmid mixture dropwise to different areas of the HEK-293T cells. Gently rock the culture vessel to evenly distribute the solution."
            },
            {
                "title": "10.",
                "body": "48 hours after transfection, filter the viral supernatant using a 0.45 μm syringe filter and 10 mL syringe."
            },
            {
                "title": "11.",
                "body": "Use viral supernatant for subsequent transduction or aliquot the remaining viral supernatant into 1.5 mL tubes and freeze at -80°C for future use."
            }
        ]
    },
    {
        "title": "**D) Transduction and generation of Jurkat TCR and K562 library cell lines**",
        "body": [
            {
                "title": "12.",
                "body": "For generation of Jurkat TCR cell lines, add 1 mL of a 0.2 million Jurkat cells/mL C10 media and 1.5 mL of viral supernatant to a 6-well plate. Add 2.5 μL polybrene \\(1000x) and mix by gently rocking the plate."
            },
            {
                "title": "13.",
                "body": "Spin infect the cells at 30°C for 1.5 hours at 2500 rpm."
            },
            {
                "title": "14.",
                "body": "After centrifugation, carefully aspirate away the media and replace with fresh media and culture the cells in the incubator."
            },
            {
                "title": "15.",
                "body": "For generation of K562 library cell lines, we aimed for 10% transduction efficiency with 0.3 MOI. Resuspend 15 million K562 cells in a premixed solution of 12 mL C10 media, 12 μL polybrene, and 3 μL of viral supernatant. Evenly distribute the mixture among the wells of a 6-well plate.\r\n  NOTE: A low MOI ensures only 1 copy of each gene is transduced to a single K562 cell."
            },
            {
                "title": "16.",
                "body": "Spin infect the cells at 30°C for 1.5 hours at 2500 rpm."
            },
            {
                "title": "17.",
                "body": "After centrifugation, carefully aspirate away the media and replace with fresh media and culture the cells in the incubator."
            },
            {
                "title": "18.",
                "body": "Allow at least 2 days for growth and recovery of the cells after transduction."
            },
            {
                "title": "19.",
                "body": "Assess transduction efficiency using flow cytometry, staining for relevant transduction markers."
            },
            {
                "title": "20.",
                "body": "Sort the transduced cells by FACS."
            },
            {
                "title": "21.",
                "body": "Culture the cells as described previously. Once the cells have grown, proceed to coculture step or aliquot extra cells in Bambanker freeze media and freeze at -80°C overnight. Transfer the aliquots to liquid nitrogen for long term storage."
            }
        ]
    },
    {
        "title": "**E) Coculture**",
        "body": [
            {
                "title": "22.",
                "body": "Prepare the Jurkat TCR and K562 library cells for coculture by washing the cells twice at 100g for 5 minutes, replacing with fresh C10 media each time."
            },
            {
                "title": "23.",
                "body": "Resuspend the Jurkat TCR cells at 5.2 million/mL and the K562 library cells at 2.6 million/mL."
            },
            {
                "title": "24.",
                "body": "Add 500 μL of each of the Jurkat TCR and K562 library cells to a sterile 5 mL round-bottom polystyrene tube, mixing the cells gently by pipetting."
            },
            {
                "title": "25.",
                "body": "Coculture the cells for 45 minutes at 37°C and 5% CO2. Proceed to staining."
            }
        ]
    },
    {
        "title": "**F) Staining**",
        "body": [
            {
                "title": "26.",
                "body": "Prepare the staining solution. For 5 mL of stain solution, add 12.5 μL \\(1:400) of LIVE/DEAD Fixable Violet Dead Cell Stain and 25 μL \\(1:200) of anti-muTCR-PECy7 to 5 mL of FACS buffer.\r\n  NOTE: It may be necessary to prepare proper single stain controls in order to adequately compensate the FACS plots during sorting."
            },
            {
                "title": "27.",
                "body": "After 45 minutes of incubation, spin down the cells for 5 minutes at 500g. Resuspend the samples in 1 mL of 2 mM EDTA in PBS the spin down again."
            },
            {
                "title": "28.",
                "body": "Resuspend the cell samples in 650 μL of staining solution and incubate for 20 minutes on ice and in the dark."
            },
            {
                "title": "29.",
                "body": "Add 1 mL FACS buffer to wash, then spin down for 5 min. Repeat the wash step."
            },
            {
                "title": "30.",
                "body": "Resuspend the samples in 500 μL of sterile Trogocytosis Resuspension Solution, made as needed as described previously. Keep the cells on ice until sorting. Proceed to sorting."
            }
        ]
    },
    {
        "title": "**G) Sorting**",
        "body": [
            {
                "title": "31.",
                "body": "Immediately prior to sample acquisition, filter the sample using a 5 mL Falcon test tube with cell strainer snap cap."
            },
            {
                "title": "32.",
                "body": "Sort the Crimson- eGFP+TCR+ cells to a sterile 5mL round-bottom polystyrene tube containing at least 1 mL of C10 medium."
            },
            {
                "title": "34.",
                "body": "Culture the cells until enough have grown."
            },
            {
                "title": "35.",
                "body": "After growing up the cells, proceed to preparation for deep sequencing or repeat steps 17-28 for additional rounds of selection."
            }
        ]
    },
    {
        "title": "**H) Preparation for deep sequencing**",
        "body": [
            {
                "title": "36.",
                "body": "Extract the genomic DNA of about 1 million of the sorted cells using the PureLink Genomic DNA Mini Kit. Dilute the genomic DNA products to 50 ng/μL."
            },
            {
                "title": "37.",
                "body": "The genomic DNA of the sorted cells was used as the template for the following PCR setup:\r\n  NOTE: In order to obtain an adequate amount of PCR product, each reaction had 5 replicates. Each sample was also run alongside a sample containing no template for use as a control later.\r\n\n\n2X Kapa HIFI MM 12.5μL\r\n\n\n10 μM TruSeq-Univ-SCTfixed-F \\(Truseq single F) 0.75 μL\r\n\n\n1 μM TruSeq-Read2-SCTfixed-R \\(Truseq R) 0.75 μL\r\n\n\n10 μM Truseq-Adapter-Index-1 \\(Single index X) 0.75 μL\r\n\n\nTemplate DNA \\(100ng, 50ng/μL stock) 2 μL\r\n\n\nNuclease-free water 8.25 μL\r\n\n\n  25 μL total"
            },
            {
                "title": "38.",
                "body": "Run the samples using the following program for barcoded PCR amplification:\r\n  Initial Denaturation 95°C 2 min\r\n\n\n30 Cycles: Denature 95°C 20 sec\r\n\n\n  Anneal 66°C 10 sec\r\n\n\n  Extension 70°C 15 sec\r\n\n\nFinal Extension 70°C 2 min\r\n\n\nHold 4°C"
            },
            {
                "title": "39.",
                "body": "After PCR amplification, pool each sample and purify using the DNA Clean & Concentrator-5 Kit. Elute in 20 μL of water."
            },
            {
                "title": "40.",
                "body": "Run 4 μL of the PCR purifications on an agarose gel to verify amplification."
            },
            {
                "title": "41.",
                "body": "Quantify the amplified barcoded DNA by Bioanalyzer and sequence by the Illumina Genome Analyzer IIx System."
            }
        ]
    },
    {
        "title": "**I) Data analysis**",
        "body": [
            {
                "title": "42.",
                "body": "Convert and de-multiplex basecalls with Illumina bcl2fastq2 software\r\n              a. Create sample sheet with Illumina Experiment Manager to define indexes\r\n\n\n            b. Configure bclToFastq: \r\n\n\n                configureBclToFastq.pl --input-dir <path_to_BaseCalls_dir> --output-dir  \r\n\n\n                <path_to_output_dir> --sample-sheet <path_to>/SampleSheet.csv \r\n\n\n                Note: This script will generate a makefile\r\n\n\nc. Run bclToFastq: \r\n\n\n                make"
            },
            {
                "title": "43.",
                "body": "Generate bwa index\r\n  a. Replace the 2kb BsmBI stuffer sequence in pCCLc-MND-2kb stuffer- β2m-A2- \r\n\n\nIRES-eGFP with a string of random nucleotides the length of the average \r\n\n\ngenetically encoded epitope \\(36 random bp for 12 AA)\r\n\n\nb. Build the bwa index:\r\n\n\n                bwa index -p ref backbone.fasta"
            },
            {
                "title": "44.",
                "body": "Align each sample to plasmid backbone with bwa\r\n     bwa mem -B 1 ref input.fastq > output.sam\r\n\n\n   Note: the flag \"-B 1\" reduces the mismatch penalty to account for the variable   \r\n\n\n   epitope sequences"
            },
            {
                "title": "45.",
                "body": "Trim alignment to only epitope region\r\n     For each read:\r\n\n\n            target_sequence_start = epitope_start_position - read_start\r\n\n\n            target_sequence_stop = epitope_stop_position - read_start + 1\r\n\n\n            target_sequence = read_sequence\\[target_sequence_start:target_sequence_stop]"
            },
            {
                "title": "46.",
                "body": "Translate to peptide\r\n              For each codon:\r\n\n\n            amino_acid_sequence += codon_table\\[codon]"
            },
            {
                "title": "47.",
                "body": "Count library peptide hits\r\n     For each amino_acid_sequence:\r\n\n\n            if amino_acid_sequence in library_sequences_table:    \r\n\n\n            library_sequences_table\\[amino_acid_sequence] += 1"
            }
        ]
    }
]